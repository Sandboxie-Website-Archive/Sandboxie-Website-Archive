<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forums.sandboxie.com/phpBB3/viewtopic.php?f=11&t=21566&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 28 Mar 2020 09:23:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>Sandboxie Support &bull; Printing in Firefox: SBIE1319 &quot;Blocked spooler ...&quot;</title>

<link href="styles/sbie_prosilver/theme/print.css" rel="stylesheet">
</head>
<body id="phpbb">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>Sandboxie Support</h1>
		<p>Support Forum for Sandboxie<br /><a href="index.html">https://forums.sandboxie.com/phpBB3/</a></p>

		<h2>Printing in Firefox: SBIE1319 &quot;Blocked spooler ...&quot;</h2>
		<p><a href="viewtopicd9b2-2d9b2.html?f=11&amp;t=21566">https://forums.sandboxie.com/phpBB3/viewtopic.php?f=11&amp;t=21566</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Printing in Firefox: SBIE1319 &quot;Blocked spooler ...&quot;</h3>
				<div class="date">Posted: <strong>Sat Aug 08, 2015 1:52 pm</strong></div>
				<div class="author">by <strong>C3PO</strong></div>
				<div class="content">Dear developers of Sandboxie, hello everyone !<br>
<br>
I am using Windows 7 x64, Sandboxie and FinePrint Version 7 for several years now - I never had an issue with that combination. While installing, Sandboxie recognized FinePrint and setup a compatibilty-setting for it, witch was always working well.<br>
<br>
Now, since several month, when I do some printing within Firefox (running in Sandboxie), USING OR NOT USING FinePrint as the printer, I always get a message-box from sandboxie "SBIE1319 Blocked spooler print to file ...".<br>
<br>
I can't tell exactly the version of sandboxie, when that behavior arised, but I think, it was a version of sandboxie before V4.20.<br>
<br>
I tried to search informations about that issue here in the forum and I know, that I do have the possibility to configure Sandboxie, to exclude the temp-directory of the print-spooler, or simply click "allow" within Sandboxies error-messagebox to do my print-out, but both workarounds are not really good solutions. <br>
<br>
In compatibility-settings of Sandboxie there is FinePrint marked with this symbol "-" but not a "+". <br>
<br>
Remember, that also normal printing, when selecting the physical, real printer, without using FinePrint, printing doesn't work anymore without that error-message.<br>
<br>
I do use the lastet BETA of Sandboxie 5.01.6 and latest Firefox ESR 38.1.1 and FinePrint 7.<br>
<br>
Thanks for reading  <img class="smilies" src="images/smilies/icon_smile.gif" width="15" height="15" alt=":)" title="Smile">  ... any help is welcome.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Printing in Firefox: SBIE1319 &quot;Blocked spooler ...&quot;</h3>
				<div class="date">Posted: <strong>Sun Aug 09, 2015 5:14 am</strong></div>
				<div class="author">by <strong>APMichael</strong></div>
				<div class="content">Hello!<br>
<br>
This is a new introduced protection against a possible security hole. Please read the version changes for all necessary information:<br>

<blockquote class="uncited"><div>
Version 4.18<br>
<br>
Released on 28 May 2015.<br>
<br>
   A security hole with the Windows print spooler has been plugged. An application could use the print spooler to write an arbitrary file outside the sandbox. If Sandboxie detects that the print spooler is attempting to write a file outside the sandbox at the request of a sandboxed application, it will issue "SBIE1319 Blocked spooler print to file". <br>
<br>
NOTE: Some printer drivers write temporary files to their own work area, even when not printing to file. In these cases, you will get SBIE1319 even when printing normally (not to file). The print may still print successfully. In this situation, you can safely ignore SBIE1319, hide the error message, or open the folder as described below.<br>
<br>
There are 3 ways to allow the print spooler to print to file:<br>
<br>
1) If you trust the process that is printing, you can double-click the SBIE1320 (that follows SBIE1319) to allow the print spooler to write files outside the sandbox for that particular process.<br>
2) The spooler can write files outside the sandbox according to OpenFilePath settings. This enables you to permanently open the folders a particular printer driver uses to store its work files.<br>
3) You can manually add the setting AllowSpoolerPrintToFile=y to sandboxie.ini. This is not recommended as it leaves your sandbox open to a print spooler exploit. 
</div></blockquote>
<a href="../indexbe25.html?VersionChanges#v_4_18" class="postlink">http://www.sandboxie.com/index.php?Vers ... ges#v_4_18</a><br>

<blockquote><div><cite>C3PO wrote:</cite>..., but both workarounds are not really good solutions.</div></blockquote>
Please explain us why?</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Printing in Firefox: SBIE1319 &quot;Blocked spooler ...&quot;</h3>
				<div class="date">Posted: <strong>Sun Aug 09, 2015 7:37 am</strong></div>
				<div class="author">by <strong>C3PO</strong></div>
				<div class="content">Hello Michael,<br>
<br>
thank you for your help ! <img class="smilies" src="images/smilies/icon_smile.gif" width="15" height="15" alt=":)" title="Smile"><br>
<br>
Well OK, I understand now - Sandboxie-sourcecode was changed by intention by its developers.<br>
<br>
Regarding to your question, why I thought, that the two possible workarounds aren't really good, I have to say, that I confused Point 2 with Point 3 from the official statement you sent to me above. Now I understand, that in fact, it -IS- an acceptable solution, to permanently permit a -SPECIFIC- printer driver, to store files outside the sandbox, because permanently clicking when I like to print something, is annoying (to me).<br>
<br>
As I trust FinePrint, I will use method #2, as it has the same effect like a manual click on 1320 to permit the trusted process, to use windows' print-spooler. IT WOULD BE GREAT, IF SANDBOXIE WOULD INCLUDE AN OPTION, TO REMEMBER A MANUALLY GIVEN PERMISSION !<br>
<br>
Now I have to search/find out, HOW exactly I can configure sandboxie using the "OpenFilePath"-setting, to give a permanent permission to FinePrint and Firefox, to store their files outside the sandbox - let's see, if I am able to manage that ... if not, I will ask here for help.<br>
<br>
<img class="smilies" src="images/smilies/icon_smile.gif" width="15" height="15" alt=":)" title="Smile"></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Printing in Firefox: SBIE1319 &quot;Blocked spooler ...&quot;</h3>
				<div class="date">Posted: <strong>Mon Aug 10, 2015 4:44 am</strong></div>
				<div class="author">by <strong>C3PO</strong></div>
				<div class="content">Back ... <img class="smilies" src="images/smilies/icon_smile.gif" width="15" height="15" alt=":)" title="Smile"><br>
<br>
Last weekend I verified how to configure sandboxie to give a permanent permission to FinePrint and Firefox, to store their files outside the sandbox: <br>
<br>
First I looked at sandboxies warning-message - it says:<br>
<br>
While attempting to print with Firefox:<br>
[8248] firefox.exe, \ProgramData\EPSON\PRINTER\EPAUDF01.AUD<br>
<br>
While attempting to print with Firefox, using Fineprint:<br>
[2212] fpdisp7.exe, \ProgramData\EPSON\PRINTER\EPAUDF01.AUD<br>
<br>
<br>
OK, fine ... I think if I would add the following line to sandboxie.ini under [GlobalSettings], Firefox with or without using Fineprint, would print without <br>
any error-message (I checked it not yet, read below ...):<br>
<br>
c:\ProgramData\EPSON\PRINTER\EPAUDF01.AUD <br>
<br>
But I think, not only Firefox and Fineprint, but -ANY- process/program would be able to bypass the sandbox, but I would like to give an -INDIVIDUAL- permission to Firefox and FinePrint -ONLY- ... but HOW can I do this ?<br>
<br>
I think I need to include the program-names itself (firefox.exe and fpdisp7.exe) somehow in the configuration of sandboxie, but I don't have an idea how to do that - anyone can tell me how ? <img class="smilies" src="images/smilies/icon_smile.gif" width="15" height="15" alt=":)" title="Smile"></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Printing in Firefox: SBIE1319 &quot;Blocked spooler ...&quot;</h3>
				<div class="date">Posted: <strong>Mon Aug 10, 2015 4:52 am</strong></div>
				<div class="author">by <strong>APMichael</strong></div>
				<div class="content">Just a small hint: <img class="smilies" src="images/smilies/icon_smile.gif" width="15" height="15" alt=":)" title="Smile"> It should be the path shown in the SBIE1319 error message.<br>
<br>
Example: "SBIE1319 Blocked spooler print to file, [xxxx] <span style="color: #0040FF"><strong>xxx.exe</strong></span>, <span style="color: #008000"><strong>\folder1\folder2</strong></span>\xxx.tmp"<br>
<br>
You can add "OpenFilePath=%SystemDrive%<span style="color: #008000"><strong>\folder1\folder2</strong></span>" to allow printing for <span style="text-decoration: underline">all</span> sandboxed applications or "OpenFilePath=<span style="color: #0040FF"><strong>xxx.exe</strong></span>,%SystemDrive%<span style="color: #008000"><strong>\folder1\folder2</strong></span>" to allow printing for a <span style="text-decoration: underline">specific</span> application only.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Printing in Firefox: SBIE1319 &quot;Blocked spooler ...&quot;</h3>
				<div class="date">Posted: <strong>Mon Aug 10, 2015 5:12 am</strong></div>
				<div class="author">by <strong>C3PO</strong></div>
				<div class="content">Thank you Michael, I will try to do so ... I will let you know, if I have success !</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Printing in Firefox: SBIE1319 &quot;Blocked spooler ...&quot;</h3>
				<div class="date">Posted: <strong>Mon Aug 10, 2015 6:41 am</strong></div>
				<div class="author">by <strong>C3PO</strong></div>
				<div class="content">OK, it works ! Now everything works smooth again.<br>
<br>
While setting-up sandboxie, I also realized, that sandboxie only supports FinePrint version 5 + 6 in it's compatibility-settings. Would also be very nice to see from the developers, to see an added support for newer versions of FinePrint.<br>
<br>
Thanks for your help Michael !  <img class="smilies" src="images/smilies/icon_biggrin.gif" width="15" height="15" alt=":D" title="Very Happy"></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Printing in Firefox: SBIE1319 &quot;Blocked spooler ...&quot;</h3>
				<div class="date">Posted: <strong>Mon Aug 10, 2015 11:56 am</strong></div>
				<div class="author">by <strong>APMichael</strong></div>
				<div class="content">Great, I am glad to hear that. <img class="smilies" src="images/smilies/icon_biggrin.gif" width="15" height="15" alt=":D" title="Very Happy"></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Printing in Firefox: SBIE1319 &quot;Blocked spooler ...&quot;</h3>
				<div class="date">Posted: <strong>Tue Aug 11, 2015 6:05 am</strong></div>
				<div class="author">by <strong>APMichael</strong></div>
				<div class="content">I noticed your (due to moderation) delayed post.<br>

<blockquote><div><cite>C3PO wrote:</cite>... I think if I would add the following line to sandboxie.ini under [GlobalSettings], ...</div></blockquote>
If you add the line in the [GlobalSettings] section the OpenFilePath is valid for <span style="text-decoration: underline">all</span> sandboxes you have created. If you have created an own sandbox for Firefox, you better add the line in the matching section [NameOfSandbox].<br>

<blockquote><div><cite>C3PO wrote:</cite>... \ProgramData\EPSON\PRINTER\EPAUDF01.AUD ... </div></blockquote>
If you want to make it even more secure, you can add the file extension to the OpenFilePath:<br>
OpenFilePath=<span style="color: #0040FF"><strong>firefox.exe</strong></span>,%SystemDrive%<span style="color: #008000"><strong>\ProgramData\EPSON\PRINTER</strong></span><span style="color: #BF0000"><strong>\*.AUD</strong></span><br>
OpenFilePath=<span style="color: #0040FF"><strong>fpdisp7.exe</strong></span>,%SystemDrive%<span style="color: #008000"><strong>\ProgramData\EPSON\PRINTER</strong></span><span style="color: #BF0000"><strong>\*.AUD</strong></span></div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="America/New York">UTC-04:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Limited<br />https://www.phpbb.com/</div>
	</div>
</div>

</body>

<!-- Mirrored from forums.sandboxie.com/phpBB3/viewtopic.php?f=11&t=21566&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 28 Mar 2020 09:23:49 GMT -->
</html>
