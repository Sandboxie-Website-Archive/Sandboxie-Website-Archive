<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forums.sandboxie.com/phpBB3/viewtopic.php?f=38&t=14934&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 28 Mar 2020 04:39:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>Sandboxie Support &bull; [.06] Could not execute SandboxieRpcSs.exe</title>

<link href="styles/sbie_prosilver/theme/print.css" rel="stylesheet">
</head>
<body id="phpbb">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>Sandboxie Support</h1>
		<p>Support Forum for Sandboxie<br /><a href="index.html">https://forums.sandboxie.com/phpBB3/</a></p>

		<h2>[.06] Could not execute SandboxieRpcSs.exe</h2>
		<p><a href="viewtopicd1e5d1e5.html?f=38&amp;t=14934">https://forums.sandboxie.com/phpBB3/viewtopic.php?f=38&amp;t=14934</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>3</strong></div>
					<div class="post">
				<h3>[.06] Could not execute SandboxieRpcSs.exe</h3>
				<div class="date">Posted: <strong>Tue Feb 26, 2013 3:35 pm</strong></div>
				<div class="author">by <strong>0strodamus</strong></div>
				<div class="content">I tried posting in the beta forum, but it said only administrators could start topics there.<br>
<br>
Beta version 4.01.02 fixed the printing issues that I was experiencing in Firefox, which is great. I'm stoked to be able to now run this beta on x64!<br>
<br>
The only issue I'm having is that Applocker is blocking SANDBOXIERPCSS.EXE from launching. The only way I have found so far to allow SANDBOXIERPCSS.EXE to launch is to place the EXE rules in auditing mode. This is on Windows 7 x64.<br>
<br>
I don't understand the applocker eventlog entry (posted below), but I do notice that the {value} following EXE as well as the user SID (S-1-5-7) are different than all the other entries. All of the others have {random values (not all 0s)} and the full SID noted. I'm not sure if this is what is causing the problem or not. I tried creating an EXE rule to allow Guests (it was the only thing I could find that sounded like it would let anyone launch besides the Everyone group which also failed) to launch SANDBOXIERPCSS.EXE, but that didn't work.<br>
<br>
I will keep running in Audit mode in Applocker because I think Sandboxie affords me more valuable security, but it would be nice to be able to put my rules back to Enforce. If I find a solution, I'll post back. Thanks in advance for any help and my apologies if I've placed this in the wrong forum section.<br>
<br>
The event log details are as follows:<br>
<br>
The description for Event ID ( 8004 ) in Source ( Microsoft-Windows-AppLocker ) could not be found.<br>
Either the component that raises this event is not installed on the computer or the installation is corrupted.You can install or repair the component or try to change Description Server.<br>
<br>
The following information was included with the event (insertion strings):<br>
3<br>
EXE<br>
{00000000-0000-0000-0000-000000000000}<br>
1<br>
-<br>
1<br>
-<br>
S-1-5-7<br>
3140<br>
43<br>
%PROGRAMFILES%\SANDBOXIE\SANDBOXIERPCSS.EXE<br>
0<br>
<br>
1<br>
-</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date">Posted: <strong>Tue Feb 26, 2013 9:23 pm</strong></div>
				<div class="author">by <strong>abcde1</strong></div>
				<div class="content">I've come across the same problem. As 0strodamus mentioned, setting EXE and DLL rules to audit allows Sandboxie 4.01 to run.<br>
<br>
With only EXE rules in audit mode, I get the error: %SYSTEM32%\RPCEPMAP.DLL was prevented from running.<br>
<br>
The odd thing is that there are default AppLocker rules which allow Everyone to run EXE's from the Program Files folders, and DLL's from The Windows folder (and below).</div>
			</div>
			<hr />
					<div class="post">
				<h3>[.05] [.04] Could not execute SandboxieRpcSs.exe</h3>
				<div class="date">Posted: <strong>Sun Mar 10, 2013 3:58 pm</strong></div>
				<div class="author">by <strong>0strodamus</strong></div>
				<div class="content">Still getting these errors with Applocker enabled on Windows 7 x64:<br>
<br>
SBIE2313 Could not execute SandboxieRpcSs.exe (1260)<br>
SBIE2204 Cannot start sandboxed service RpcSs (1260)</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date">Posted: <strong>Mon Mar 11, 2013 4:39 pm</strong></div>
				<div class="author">by <strong>tzuk</strong></div>
				<div class="content">I think you reported this before but I haven't looked into this.  It's on my list, but there are a lot of things on my list.  I will post when I have an update, so you might want to keep an eye on an existing topic, for example this one.</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date">Posted: <strong>Mon Mar 11, 2013 7:12 pm</strong></div>
				<div class="author">by <strong>0strodamus</strong></div>
				<div class="content">Yes, I did. I just wanted to let you know I was still seeing the error with the latest beta. Thanks for the reply!</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date">Posted: <strong>Mon Mar 18, 2013 7:11 pm</strong></div>
				<div class="author">by <strong>0strodamus</strong></div>
				<div class="content">This issue is resolved with .04 beta. Thanks tzuk!</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date">Posted: <strong>Tue Mar 19, 2013 6:27 am</strong></div>
				<div class="author">by <strong>tzuk</strong></div>
				<div class="content">Thanks for the update!  Good to know.</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date">Posted: <strong>Mon Mar 25, 2013 2:12 pm</strong></div>
				<div class="author">by <strong>barny</strong></div>
				<div class="content">Not fixed for me in .04 - still seeing same errors in Win 7 x64 with AppLocker enabled:<br>
<br>
SBIE2313 Could not execute SandboxieRpcSs.exe (1260)<br>
SBIE2204 Cannot start sandboxed service RpcSs (1260)<br>
<br>
<br>
Was anything done to address this bug in .04 ?</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date">Posted: <strong>Mon Mar 25, 2013 6:04 pm</strong></div>
				<div class="author">by <strong>barny</strong></div>
				<div class="content">A bit more info: In 0strodamus' original thread <a href="http://sandboxie.com/phpbb/viewtopic.php?t=14815" class="postlink">here</a>, they mentioned the user id as S-1-5-7, which was different from all the others. After setting AppLocker EXE and DLL rules to audit only, Sandboxie .04 beta runs fine but task manager shows the user who launched firefox.exe, SandboxieDcomLaunch.exe and SandboxieRpcSs.exe as "NT AUTHORITY\ANONYMOUS LOGON".<br>
<br>
<br>
Unrelated to .04 beta, in 3.76, if I save a file in Sandboxied Firefox and try to create a new folder on the file save dialog, the new folder is not visible in the save dialog, but it is actually created in the Sandbox.</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date">Posted: <strong>Tue Mar 26, 2013 4:08 pm</strong></div>
				<div class="author">by <strong>tzuk</strong></div>
				<div class="content">Task manager will show the user as anonymous, that is how things work in version 4.<br>
<br>
As for AppLocker, can you explain how you configure it so I can try to reproduce the problem?  I'm not familiar with AppLocker so please take that into account in your explanation.</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date">Posted: <strong>Fri Mar 29, 2013 4:54 pm</strong></div>
				<div class="author">by <strong>barny</strong></div>
				<div class="content">You need to be running Windows 7 Ultimate to have access to AppLocker. Make sure Application Identity service is running and set to Automatic. Type gpedit.msc, then navigate to Computer Configuration &gt; Policies &gt; Windows Settings &gt; Security Settings &gt; Application Control Policies and then click on “Configure rule enforcement”. Under Advanced tab, enable DLL rule collection, and under Enforcement tab make sure all rules are enabled/configured and set to "Enforce rules". On the left hand tree, select "Executable Rules", and then right-click it and select "Create Default Rules". Repeat for "Windows Installer Rules", "Script Rules" and "DLL Rules".<br>
<br>
Log in as a Standard User account, and try to run Firefox sandboxied wiht 4.01.04 beta. You will get the errors mentioned in this topic. If you set "Executable Rules" and "DLL Rules" to "Audit only" instead of "Enforce rules", Firefox runs without problems as it makes AppLocker only log Allow/block attempts, rather than actually block them.<br>
<br>
Check under Event Viewer-&gt;Applications and Services Logs-&gt;Microsoft-&gt;Windows-&gt;Applocker to see when something is allowed/blocked from running by AppLocker.<br>
 <br>
<a href="http://www.howtogeek.com/howto/6317/block-users-from-using-certain-applications-with-applocker/" class="postlink">http://www.howtogeek.com/howto/6317/blo ... applocker/</a><br>
<br>
Let me know if you need more info.</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date">Posted: <strong>Wed Apr 10, 2013 9:50 am</strong></div>
				<div class="author">by <strong>tzuk</strong></div>
				<div class="content">Due to some other problem, I changed SandboxieRpcSs to not start directly by the program in the sandbox, but instead start through SbieSvc (which is a component of Sandboxie that is outside the sandbox).<br>
<br>
This means the AppLocker check would occur in the context of the SbieSvc component outside the sandbox, rather than inside the sandbox.<br>
<br>
I think this should work around the problem described here, although I haven't experimented or tested this myself.<br>
<br>
Please check if it makes a difference.</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date">Posted: <strong>Thu Apr 11, 2013 3:26 am</strong></div>
				<div class="author">by <strong>barny</strong></div>
				<div class="content">With .05, I no longer get the errors: SBIE2313 Could not execute SandboxieRpcSs.exe (1260) and SBIE2204 Cannot start sandboxed service RpcSs (1260).<br>
<br>
However, I still get an error dialog - title "Sandboxie RpcSs", message "Could not load service DLL - rpcepmap.dll".<br>
<br>
No problem if AppLocker DLL Rules are set to audit, rather than enforce.</div>
			</div>
			<hr />
					<div class="post">
				<h3>[0.5]</h3>
				<div class="date">Posted: <strong>Sat Apr 13, 2013 11:32 am</strong></div>
				<div class="author">by <strong>Sadeghi85</strong></div>
				<div class="content">Same problem as previous poster mentioned. Screenshots in this post: <a href="http://www.wilderssecurity.com/showpost.php?p=2216243&amp;postcount=1" class="postlink">http://www.wilderssecurity.com/showpost ... ostcount=1</a><br>
<br>
What I don't get is, the default rules allow dlls in system32 to run, but RPCEPMAP.DLL was blocked!  <img class="smilies" src="images/smilies/icon_eek.gif" width="15" height="15" alt=":shock:" title="Shocked"></div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date">Posted: <strong>Sun Apr 14, 2013 2:22 pm</strong></div>
				<div class="author">by <strong>tzuk</strong></div>
				<div class="content">I'm glad to see there's some improvement.  I'll check out the remaining problems.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="America/New York">UTC-04:00</span><br />Page <strong>1</strong> of <strong>3</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Limited<br />https://www.phpbb.com/</div>
	</div>
</div>

</body>

<!-- Mirrored from forums.sandboxie.com/phpBB3/viewtopic.php?f=38&t=14934&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 28 Mar 2020 04:39:34 GMT -->
</html>
