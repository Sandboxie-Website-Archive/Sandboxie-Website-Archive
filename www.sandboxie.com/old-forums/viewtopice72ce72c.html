<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forums.sandboxie.com/phpBB3/viewtopic.php?p=33153 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 28 Mar 2020 10:15:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Block Process Access - Page 2 - Sandboxie Support</title>

	<link rel="alternate" type="application/atom+xml" title="Feed - Sandboxie Support" href="app.php/feed">		<link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="app.php/feed/forums">	<link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="app.php/feed/topics">	<link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="app.php/feed/topics_active">	<link rel="alternate" type="application/atom+xml" title="Feed - Forum - Contributed Utilities &amp; Templates" href="app.php/feed/forum/22">	<link rel="alternate" type="application/atom+xml" title="Feed - Topic - Block Process Access" href="app.php/feed/topic/4885">	
	<link rel="canonical" href="viewtopic10401040.html?t=4885&amp;start=15">

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:
-->

<link href="assets/css/font-awesome.mince91ce91.css?assets_version=7" rel="stylesheet">
<link href="styles/sbie_prosilver/theme/stylesheetce91ce91.css?assets_version=7" rel="stylesheet">
<link href="styles/sbie_prosilver/theme/en/stylesheetce91ce91.css?assets_version=7" rel="stylesheet">




<!--[if lte IE 9]>
	<link href="./styles/sbie_prosilver/theme/tweaks.css?assets_version=7" rel="stylesheet">
<![endif]-->





</head>
<body id="phpbb" class="nojs notouch section-viewtopic ltr ">


<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar" role="banner">
					<div class="inner">

			<div id="site-description" class="site-description">
				<a id="logo" class="logo" href="../index.html" title="Home"><span class="site_logo"></span></a>
				<h1>Sandboxie Support</h1>
				<p>Support Forum for Sandboxie</p>
				<p class="skiplink"><a href="#start_here">Skip to content</a></p>
			</div>

									<div id="search-box" class="search-box search-header" role="search">
				<form action="https://forums.sandboxie.com/phpBB3/search.php" method="get" id="search">
				<fieldset>
					<input name="keywords" id="keywords" type="search" maxlength="128" title="Search for keywords" class="inputbox search tiny" size="20" value="" placeholder="Search…" />
					<button class="button button-search" type="submit" title="Search">
						<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
					</button>
					<a href="search.html" class="button button-search-end" title="Advanced search">
						<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
					</a>
					
				</fieldset>
				</form>
			</div>
						
			</div>
					</div>
				<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-main" class="nav-main linklist" role="menubar">

		<li id="quick-links" class="quick-links dropdown-container responsive-menu" data-skip-responsive="true">
			<a href="#" class="dropdown-trigger">
				<i class="icon fa-bars fa-fw" aria-hidden="true"></i><span>Quick links</span>
			</a>
			<div class="dropdown">
				<div class="pointer"><div class="pointer-inner"></div></div>
				<ul class="dropdown-contents" role="menu">
					
											<li class="separator"></li>
																									<li>
								<a href="search33a733a7.html?search_id=unanswered" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-gray" aria-hidden="true"></i><span>Unanswered topics</span>
								</a>
							</li>
							<li>
								<a href="search526f526f.html?search_id=active_topics" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-blue" aria-hidden="true"></i><span>Active topics</span>
								</a>
							</li>
							<li class="separator"></li>
							<li>
								<a href="search.html" role="menuitem">
									<i class="icon fa-search fa-fw" aria-hidden="true"></i><span>Search</span>
								</a>
							</li>
					
											<li class="separator"></li>
																			<li>
								<a href="https://www.sandboxie.com/old-forums/memberlist4bfd.html?mode=team" role="menuitem">
									<i class="icon fa-shield fa-fw" aria-hidden="true"></i><span>The team</span>
								</a>
							</li>
																<li class="separator"></li>

									</ul>
			</div>
		</li>

				<li data-skip-responsive="true">
			<a href="app.php/help/faq.html" rel="help" title="Frequently Asked Questions" role="menuitem">
				<i class="icon fa-question-circle fa-fw" aria-hidden="true"></i><span>FAQ</span>
			</a>
		</li>
						
			<li class="rightside"  data-skip-responsive="true">
			<a href="ucp26c326c3.html?mode=login" title="Login" accesskey="x" role="menuitem">
				<i class="icon fa-power-off fa-fw" aria-hidden="true"></i><span>Login</span>
			</a>
		</li>
					<li class="rightside" data-skip-responsive="true">
				<a href="ucp83198319.html?mode=register" role="menuitem">
					<i class="icon fa-pencil-square-o  fa-fw" aria-hidden="true"></i><span>Register</span>
				</a>
			</li>
						</ul>

	<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks" role="menubar">
						<li class="breadcrumbs">
							<span class="crumb"  itemtype="http://data-vocabulary.org/Breadcrumb" itemscope=""><a href="../index.html" itemprop="url" data-navbar-reference="home"><i class="icon fa-home fa-fw" aria-hidden="true"></i><span itemprop="title">Home</span></a></span>
										<span class="crumb"  itemtype="http://data-vocabulary.org/Breadcrumb" itemscope=""><a href="index-2.html" itemprop="url" accesskey="h" data-navbar-reference="index"><span itemprop="title">Board index</span></a></span>

											<span class="crumb"  itemtype="http://data-vocabulary.org/Breadcrumb" itemscope="" data-forum-id="44"><a href="viewforumab78ab78.html?f=44" itemprop="url"><span itemprop="title">More Forums</span></a></span>
															<span class="crumb"  itemtype="http://data-vocabulary.org/Breadcrumb" itemscope="" data-forum-id="22"><a href="viewforum89418941.html?f=22" itemprop="url"><span itemprop="title">Contributed Utilities &amp; Templates</span></a></span>
												</li>
		
					<li class="rightside responsive-search">
				<a href="search.html" title="View the advanced search options" role="menuitem">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</a>
			</li>
			</ul>

	</div>
</div>
	</div>

	
	<a id="start_here" class="anchor"></a>
	<div id="page-body" class="page-body" role="main">
		
		
<h2 class="topic-title"><a href="viewtopic4fa5-24fa5.html?f=22&amp;t=4885&amp;start=15">Block Process Access</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->
<div style="display: none !important;">Utilities designed for use with Sandboxie<br /></div>


<div class="action-bar bar-top">
	
			<a href="https://www.sandboxie.com/old-forums/posting8447.html?mode=reply&amp;f=22&amp;t=4885" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
	
			<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																												<li>
					<a href="viewtopic2470-32470.html?f=22&amp;t=4885&amp;start=15&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>
	
			<div class="search-box" role="search">
			<form method="get" id="topic-search" action="https://forums.sandboxie.com/phpBB3/search.php">
			<fieldset>
				<input class="inputbox search tiny"  type="search" name="keywords" id="search_keywords" size="20" placeholder="Search this topic…" />
				<button class="button button-search" type="submit" title="Search">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</button>
				<a href="search.html" class="button button-search-end" title="Advanced search">
					<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
				</a>
				<input type="hidden" name="t" value="4885" />
<input type="hidden" name="sf" value="msgonly" />

			</fieldset>
			</form>
		</div>
	
			<div class="pagination">
			212 posts
							<ul>
	<li class="dropdown-container dropdown-button-control dropdown-page-jump page-jump">
		<a class="button button-icon-only dropdown-trigger" href="#" title="Click to jump to page…" role="button"><i class="icon fa-level-down fa-rotate-270" aria-hidden="true"></i><span class="sr-only">Page <strong>2</strong> of <strong>15</strong></span></a>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
				<li>Jump to page:</li>
				<li class="page-jump-form">
					<input type="number" name="page-number" min="1" max="999999" title="Enter the page number you wish to go to" class="inputbox tiny" data-per-page="15" data-base-url=".&#x2F;viewtopic.php&#x3F;f&#x3D;22&amp;amp&#x3B;t&#x3D;4885" data-start-name="start" />
					<input class="button2" value="Go" type="button" />
				</li>
			</ul>
		</div>
	</li>
			<li class="arrow previous"><a class="button button-icon-only" href="viewtopic7fcb7fcb.html?f=22&amp;t=4885" rel="prev" role="button"><i class="icon fa-chevron-left fa-fw" aria-hidden="true"></i><span class="sr-only">Previous</span></a></li>
				<li><a class="button" href="viewtopic7fcb7fcb.html?f=22&amp;t=4885" role="button">1</a></li>
			<li class="active"><span>2</span></li>
				<li><a class="button" href="viewtopice321e321.html?f=22&amp;t=4885&amp;start=30" role="button">3</a></li>
				<li><a class="button" href="viewtopic97ef97ef.html?f=22&amp;t=4885&amp;start=45" role="button">4</a></li>
				<li><a class="button" href="viewtopicba6eba6e.html?f=22&amp;t=4885&amp;start=60" role="button">5</a></li>
			<li class="ellipsis" role="separator"><span>…</span></li>
				<li><a class="button" href="viewtopicddd0ddd0.html?f=22&amp;t=4885&amp;start=210" role="button">15</a></li>
				<li class="arrow next"><a class="button button-icon-only" href="viewtopice321e321.html?f=22&amp;t=4885&amp;start=30" rel="next" role="button"><i class="icon fa-chevron-right fa-fw" aria-hidden="true"></i><span class="sr-only">Next</span></a></li>
	</ul>
					</div>
		</div>




			<div id="p32587" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile32587">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="https://www.sandboxie.com/old-forums/memberlist752d.html?mode=viewprofile&amp;u=846" class="username">wraithdu</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search97d397d3.html?author_id=846&amp;sr=posts">1410</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Jun 29, 2007 2:54 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content32587">

						<h3 class="first"><a href="#p32587"></a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="https://www.sandboxie.com/old-forums/postingb903.html?mode=quote&amp;f=22&amp;p=32587" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic052d-3052d.html?p=32587#p32587" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="https://www.sandboxie.com/old-forums/memberlist752d.html?mode=viewprofile&amp;u=846" class="username">wraithdu</a></strong> &raquo; </span>Wed Feb 04, 2009 11:49 pm
			</p>
			
			
			
			<div class="content">I've updated the DLL to use a more reliable internal Sandboxie function to determine if the target process is sandboxed or not.  Thanks tzuk!<br>
<br>
Download from first post or the new 'Contributed Utilities' page (once tzuk updates it, check the MD5s).</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p32603" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile32603">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="https://www.sandboxie.com/old-forums/memberlist752d.html?mode=viewprofile&amp;u=846" class="username">wraithdu</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search97d397d3.html?author_id=846&amp;sr=posts">1410</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Jun 29, 2007 2:54 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content32603">

						<h3 ><a href="#p32603"></a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="https://www.sandboxie.com/old-forums/posting8fda-2.html?mode=quote&amp;f=22&amp;p=32603" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopicb453b453.html?p=32603#p32603" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="https://www.sandboxie.com/old-forums/memberlist752d.html?mode=viewprofile&amp;u=846" class="username">wraithdu</a></strong> &raquo; </span>Thu Feb 05, 2009 10:02 am
			</p>
			
			
			
			<div class="content">Updated again.  On tzuk's advice, I changed the hook to NtReadVirtualMemory, which is the ntdll.dll function called by ReadProcessMemory.  This is a better hook and should cover Windows 7 as well.<br>
<br>
Download from first post.</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p32610" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile32610">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="https://www.sandboxie.com/old-forums/memberlistfe9c.html?mode=viewprofile&amp;u=3" class="username">tzuk</a>							</dt>

						<dd class="profile-rank">Sandboxie Founder<br /><img src="images/ranks/gloss/yellow/yellow-exadministrator.png" alt="Sandboxie Founder" title="Sandboxie Founder" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchc9e3c9e3.html?author_id=3&amp;sr=posts">16076</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jun 22, 2004 12:57 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content32610">

						<h3 ><a href="#p32610"></a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="https://www.sandboxie.com/old-forums/posting3623.html?mode=quote&amp;f=22&amp;p=32610" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic3707-23707.html?p=32610#p32610" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="https://www.sandboxie.com/old-forums/memberlistfe9c.html?mode=viewprofile&amp;u=3" class="username">tzuk</a></strong> &raquo; </span>Thu Feb 05, 2009 11:42 am
			</p>
			
			
			
			<div class="content">I updated the mirror file I'm hosting here, and MD5.</div>

			
									
									<div id="sig32610" class="signature">tzuk</div>
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p32918" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile32918">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="https://www.sandboxie.com/old-forums/memberlist752d.html?mode=viewprofile&amp;u=846" class="username">wraithdu</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search97d397d3.html?author_id=846&amp;sr=posts">1410</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Jun 29, 2007 2:54 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content32918">

						<h3 ><a href="#p32918"></a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="https://www.sandboxie.com/old-forums/posting7681.html?mode=quote&amp;f=22&amp;p=32918" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic7418-27418.html?p=32918#p32918" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="https://www.sandboxie.com/old-forums/memberlist752d.html?mode=viewprofile&amp;u=846" class="username">wraithdu</a></strong> &raquo; </span>Wed Feb 11, 2009 9:02 am
			</p>
			
			
			
			<div class="content">I have an update to the DLL that also hooks CreateToolhelp32Snapshot(), however I'd like some opinions before I finalize it.<br>
<br>
For those not familiar with it, this function takes system snapshots of several kinds, and the information in the snapshot is determined by a set of flags:<br>
<br>
- system-wide process and thread enumeration<br>
- process specific module and heap enumeration<br>
<br>
My current hook strips any system-wide snapshot flags, preventing process and thread enumeration.  Then it looks at what is left in the flags parameter.  If there are any process specific flags, it determines if the process is running sandboxed or not, and then allows or blocks the call.<br>
<br>
What do you think about the blanket system-wide enumeration blocks?  Is that going too far, or is it a good security measure?  I want it to be secure, but not break functionality.  Some possible changes:<br>
<br>
- allow process enumeration, but not thread enumeration<br>
- vice-versa<br>
- allow both<br>
<br>
Thoughts?</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p32947" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile32947">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="https://www.sandboxie.com/old-forums/memberlistfe9c.html?mode=viewprofile&amp;u=3" class="username">tzuk</a>							</dt>

						<dd class="profile-rank">Sandboxie Founder<br /><img src="images/ranks/gloss/yellow/yellow-exadministrator.png" alt="Sandboxie Founder" title="Sandboxie Founder" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchc9e3c9e3.html?author_id=3&amp;sr=posts">16076</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jun 22, 2004 12:57 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content32947">

						<h3 ><a href="#p32947"></a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="https://www.sandboxie.com/old-forums/posting923d.html?mode=quote&amp;f=22&amp;p=32947" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic8de9-28de9.html?p=32947#p32947" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="https://www.sandboxie.com/old-forums/memberlistfe9c.html?mode=viewprofile&amp;u=3" class="username">tzuk</a></strong> &raquo; </span>Wed Feb 11, 2009 4:56 pm
			</p>
			
			
			
			<div class="content">It's hard to say in advance if this would break programs.  I guess you should run with this DLL for a while and see if it has a negative effect on programs.</div>

			
									
									<div id="sig32947" class="signature">tzuk</div>
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p33013" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile33013">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="https://www.sandboxie.com/old-forums/memberlist752d.html?mode=viewprofile&amp;u=846" class="username">wraithdu</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search97d397d3.html?author_id=846&amp;sr=posts">1410</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Jun 29, 2007 2:54 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content33013">

						<h3 ><a href="#p33013">Updated Test Version</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="https://www.sandboxie.com/old-forums/posting5d36-2.html?mode=quote&amp;f=22&amp;p=33013" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic12641264.html?p=33013#p33013" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="https://www.sandboxie.com/old-forums/memberlist752d.html?mode=viewprofile&amp;u=846" class="username">wraithdu</a></strong> &raquo; </span>Fri Feb 13, 2009 4:24 pm
			</p>
			
			
			
			<div class="content">If I could get some people to test this new version it would be very helpful!  Instead of listing what's changed, I'm going to list what it does, since a lot has changed.  The basic idea is the same, it blocks access from sandboxed processes to unsandboxed processes.<br>
<br>
Functions hooked:<br>
- NtOpenProcess<br>
- NtQuerySystemInformation<br>
- NtReadVirtualMemory<br>
- CreateToolhelp32Snapshot<br>
<br>
Behavior:<br>
- blocks system-wide enumeration of running processes and threads (includes Toolhelp32 and PSAPI functions)<br>
- blocks access to unsandboxed processes - cannot open processes, or read their memory<br>
<br>
I want to be sure that I'm not going too far and breaking applications.  I'm currently running the DLL, and so far I haven't had any problems, but a wider testbed would be nice.  As before, a plethora of debug information can be seen by running Dbgview from Sysinternals.  Once tested, I will release two versions with and without debug output to reduce size and increase performance (I'm sure only a very tiny bit).<br>
<br>
The included 'injtest.exe' program has also changed.  Now you have to provide a PID to it on the commandline.  The easiest way is to open a sandboxed command prompt, navigate to 'injtest.exe', and type 'injtest.exe 1234' where 1234 is the PID of some sandboxed or unsandboxed process.<br>
<br>
**snip**<br>
<br>
See first post for the new release version.</div>

			
													<div class="notice">
					Last edited by <a href="https://www.sandboxie.com/old-forums/memberlist752d.html?mode=viewprofile&amp;u=846" class="username">wraithdu</a> on Thu Feb 19, 2009 6:11 pm, edited 11 times in total.
									</div>
			
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p33089" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile33089">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<strong><span class="username">hch</span></strong>							</dt>

									
						
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content33089">

						<h3 ><a href="#p33089"></a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="https://www.sandboxie.com/old-forums/postingca9c.html?mode=quote&amp;f=22&amp;p=33089" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopicfdb5fdb5.html?p=33089#p33089" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><span class="username">hch</span></strong> &raquo; </span>Sat Feb 14, 2009 10:16 pm
			</p>
			
			
			
			<div class="content">Hi, and thanks for this neat addon.<br>
<br>
A question - seems like when I'm running andboxie with your injected dll, the process blocking features work, but I can't run a sandboxed instance of Windows Explorer anymore. I get the errors "SBIE2313 Could Not Execute SandboxieRpcSs.exe" and "SBIE2204 Cannot Start Sandboxed Service RpcSs", and windows explorer does not start. Without injecting the dll they work fine.<br>
<br>
I'm wondering, is it supposed to be this way (a limitation) or is that just a bug (oversight). And what (if anything) can I do about it.<br>
<br>
Once again, thanks for all your efforts, I'm sure they're appreciated by many people.</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p33090" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile33090">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="https://www.sandboxie.com/old-forums/memberlist752d.html?mode=viewprofile&amp;u=846" class="username">wraithdu</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search97d397d3.html?author_id=846&amp;sr=posts">1410</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Jun 29, 2007 2:54 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content33090">

						<h3 ><a href="#p33090"></a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="https://www.sandboxie.com/old-forums/posting1e72.html?mode=quote&amp;f=22&amp;p=33090" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic38a038a0.html?p=33090#p33090" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="https://www.sandboxie.com/old-forums/memberlist752d.html?mode=viewprofile&amp;u=846" class="username">wraithdu</a></strong> &raquo; </span>Sat Feb 14, 2009 11:07 pm
			</p>
			
			
			
			<div class="content">Explorer runs just fine on my Vista laptop.  And I haven't had any errors from sandboxie processes either, regardless of what apps I'm running.<br>
<br>
Which version of the DLL are you using, the one from the first post, or the test version?  What OS are you using, any other security software?  Could you run the debug version along with Dbgview and post the output?</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p33096" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile33096">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="https://www.sandboxie.com/old-forums/memberlistb344.html?mode=viewprofile&amp;u=2005" class="username">nick s</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search4c604c60.html?author_id=2005&amp;sr=posts">382</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Sat Dec 20, 2008 12:52 am</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content33096">

						<h3 ><a href="#p33096"></a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="https://www.sandboxie.com/old-forums/posting8de0.html?mode=quote&amp;f=22&amp;p=33096" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic2da82da8.html?p=33096#p33096" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="https://www.sandboxie.com/old-forums/memberlistb344.html?mode=viewprofile&amp;u=2005" class="username">nick s</a></strong> &raquo; </span>Sun Feb 15, 2009 1:46 am
			</p>
			
			
			
			<div class="content">No problems here launching a sandboxed explorer on Vista SP1 using the 021309 test version. On a clean XP SP3, however, launching a sandboxed explorer fails for me with two messages:<br>
<br>
"SBIE2313 Could not execute SandboxieDcomLaunch.exe (31)"<br>
<br>
"SBIE2204 Cannot start sandboxed service DcomLaunch (0)"<br>
<br>
The sandboxed explorer process is nevertheless enumerated in Sandboxie Control and Process Explorer. Tested using Sandboxie 3.35.10.</div>

			
									
									<div id="sig33096" class="signature">Nick</div>
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p33106" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile33106">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<strong><span class="username">hch</span></strong>							</dt>

									
						
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content33106">

						<h3 ><a href="#p33106"></a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="https://www.sandboxie.com/old-forums/posting8048.html?mode=quote&amp;f=22&amp;p=33106" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic28cb-228cb.html?p=33106#p33106" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><span class="username">hch</span></strong> &raquo; </span>Sun Feb 15, 2009 6:07 am
			</p>
			
			
			
			<div class="content">Hi,<br>
<br>
I'm running <strong>Sandboxie 3.34</strong> on <strong>Windows XP (Media Center Edition, Service Pack 2)</strong>.<br>
<br>
I tested with <strong>(both) the new dll and old dll</strong> versions. <strong>Both encounter the same issue.</strong><br>
<br>
I'm positive the injection works because I can run single, isolated applications successfully. The process memory restriction works perfectly. (I did a test, ran taskmanager sandboxed, then ran one sandboxed "calculator" app and one unsandboxed one. Only the sandboxed one was detected , which is correct). Therefore, the only problem is starting the Windows Explorer.<br>
<br>
As nick s mentioned, the sandboxed explorer process does appear in the sandboxed process list, but the window does not show or function (probably due to the fact that SandboxieRpcSs.exe and SandboxieDcomLaunch.exe fail to load).</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p33107" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile33107">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<strong><span class="username">hch</span></strong>							</dt>

									
						
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content33107">

						<h3 ><a href="#p33107"></a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="https://www.sandboxie.com/old-forums/postingc214.html?mode=quote&amp;f=22&amp;p=33107" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopicc9ba-3c9ba.html?p=33107#p33107" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><span class="username">hch</span></strong> &raquo; </span>Sun Feb 15, 2009 6:16 am
			</p>
			
			
			
			<div class="content">Sorry for the double post.<br>
<br>
I downloaded dbgview, and perhaps this additional information may be helpful.<br>
<br>
This is the output when <strong>attempting to run windows explorer sandboxed with the latest test version of the dll </strong>(and the above mentioned system specs)<br>
<br>
[11284] Injected into process<br>
[11284] Pointers:<br>
[11284] SbieDll_Hook: 7D22BA00<br>
[11284] SbieApi_QueryProcess: 7D2454A0<br>
[11284] pNtReadVirtualMemory: 00DF0BD0<br>
[11284] NtReadVirtualMemory intercepted<br>
[11284] Target PID: 11284<br>
[11284] BoxName: CrapBox<br>
[11284] ImageName: explorer.exe<br>
[11284] SidString: S-1-5-21-3509508797-2857804451-176231780-1005<br>
[11284] SessionId: 0<br>
[11284] Target is sandboxed, allowing NtReadVirtualMemory<br>
[11284] NtReadVirtualMemory intercepted<br>
[11284] Target PID: 13784<br>
[11284] BoxName: <br>
[11284] ImageName: <br>
[11284] SidString: <br>
[11284] SessionId: 0<br>
[11284] Target not sandboxed, blocking NtReadVirtualMemory<br>
<br>
========================================<br>
<br>
To compare, the following is the output when attempting to run the windows Calculator app (which works).<br>
<br>
[12360] Injected into process<br>
[12360] Pointers:<br>
[12360] SbieDll_Hook: 7D22BA00<br>
[12360] SbieApi_QueryProcess: 7D2454A0<br>
[12360] pNtReadVirtualMemory: 00DF0B70</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p33144" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile33144">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="https://www.sandboxie.com/old-forums/memberlist752d.html?mode=viewprofile&amp;u=846" class="username">wraithdu</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search97d397d3.html?author_id=846&amp;sr=posts">1410</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Jun 29, 2007 2:54 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content33144">

						<h3 ><a href="#p33144"></a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="https://www.sandboxie.com/old-forums/posting8742-2.html?mode=quote&amp;f=22&amp;p=33144" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopice8e1e8e1.html?p=33144#p33144" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="https://www.sandboxie.com/old-forums/memberlist752d.html?mode=viewprofile&amp;u=846" class="username">wraithdu</a></strong> &raquo; </span>Sun Feb 15, 2009 11:34 pm
			</p>
			
			
			
			<div class="content">@hch<br>
<br>
Ok, couple things here:<br>
<br>
1) From your debug output, you're running the released version of the DLL from the first post, not the test version.  The test version would show additional hooks on NtOpenProcess, NtQuerySystemInformation, and CreateToolhelp32Snapshot.<br>
2)  This means that explorer in XP can't even handle the one hook on NtReadVirtualMemory, lame.<br>
<br>
Try a new build of the test version from this post<br>
<br>
<a href="../phpbb/viewtopic1264.php?p=33013#33013" class="postlink">http://www.sandboxie.com/phpbb/viewtopi ... 3013#33013</a><br>
<br>
In this version, I've placed an exclusion for explorer.exe on OS's below Vista / Server 2008, so the DLL won't be injected.  Try it out and see if explorer works.  Test on some other software also, just to see if XP is less tolerant of these kinds of restrictions versus Vista.  Make sure to test software that also causes SandboxieRpcSs and SandboxieDcomLaunch to run.  It could be a conflict with the Sandboxie processes on XP, and not explicitly with explorer.exe.  If this is the case, I can make exclusions for the Sandboxie processes.  Thanks!</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p33148" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile33148">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<strong><span class="username">hch</span></strong>							</dt>

									
						
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content33148">

						<h3 ><a href="#p33148"></a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="https://www.sandboxie.com/old-forums/posting01ae.html?mode=quote&amp;f=22&amp;p=33148" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic96ca-396ca.html?p=33148#p33148" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><span class="username">hch</span></strong> &raquo; </span>Mon Feb 16, 2009 12:40 am
			</p>
			
			
			
			<div class="content">@wriathdu<br>
<br>
okay, i've tested out the version you've pointed me to. This time, the SandboxieRpcSs.exe process runs (last time it didnt, now it does), but I still get the error saying "Could not execute SandboxieDcomLaunch.exe" and "Cannot start sandboxed service DcomLaunch". <br>
<br>
Overall it is still not functioning, though now I can see two processes in the sandboxie window (explorer.exe and SandboxieRpcSs.exe) compared to only explorer.exe last time.<br>
<br>
<strong>This is the new debug output that I get when trying to open a sandboxed explorer with the new dll you directed me to.</strong><br>
<br>
[8988] ----------<br>
[8988] Injected into process: [8988] C:\Program Files\Sandboxie\SandboxieRpcSs.exe<br>
[8988] Pointers:<br>
[8988] SbieDll_Hook: 7D22BA00<br>
[8988] SbieApi_QueryProcess: 7D2454A0<br>
[8988] pNtOpenProcess: 00290AD0                <br>
[8988] pNtReadVirtualMemory: 00290AF0<br>
[8988] pNtQuerySystemInformation: 00290B10<br>
[8988] pCreateToolhelp32Snapshot: 00290B30                <br>
[8988] ----------<br>
[8988] NtQuerySystemInformation intercepted<br>
[8988] Allowing NtQuerySystemInformation<br>
[8988] NtQuerySystemInformation intercepted<br>
[8988] Allowing NtQuerySystemInformation<br>
[8988] NtQuerySystemInformation intercepted<br>
[8988] Allowing NtQuerySystemInformation<br>
[8988] NtQuerySystemInformation intercepted<br>
[8988] Allowing NtQuerySystemInformation<br>
[8988] NtQuerySystemInformation intercepted<br>
[8988] Allowing NtQuerySystemInformation<br>
[8988] NtQuerySystemInformation intercepted<br>
[8988] Allowing NtQuerySystemInformation<br>
[8988] NtQuerySystemInformation intercepted<br>
[8988] Allowing NtQuerySystemInformation<br>
[8988] NtQuerySystemInformation intercepted<br>
[8988] Allowing NtQuerySystemInformation<br>
[8988] NtQuerySystemInformation intercepted<br>
[8988] Allowing NtQuerySystemInformation<br>
[8988] NtQuerySystemInformation intercepted<br>
[8988] Allowing NtQuerySystemInformation<br>
[8988] NtQuerySystemInformation intercepted<br>
[8988] Allowing NtQuerySystemInformation<br>
[8988] NtReadVirtualMemory intercepted<br>
[8988] IsPIDSandboxed<br>
[8988] Target PID: 9108<br>
[8988] BoxName: <br>
[8988] ImageName: <br>
[8988] SidString: <br>
[8988] SessionId: 0<br>
[8988] Blocking NtReadVirtualMemory<br>
[2564] <br>
[2564]  TT: Radio state info: on<br>
[1880] RCE3: DllMain(1): DLL_THREAD_ATTACH -------- (758) C:\Program Files\Dell\MediaDirect\PCMService.exe<br>
[1880] <br>
[2564] <br>
[2564]  TT: Radio state info: on<br>
[1880] [PCMService] OnTimer_CheckUpdate()<br>
[1880] <br>
[1880] RCE3: DllMain(1): DLL_THREAD_ATTACH -------- (758) C:\Program Files\Dell\MediaDirect\PCMService.exe<br>
<br>
<br>
I'm not sure what other software would cause those two processes to run, tell me so I can try it out.<br>
<br>
And yes, I suppose a version with exceptions for the conflicting processes could be useful.<br>
<br>
By the way, thanks for your help! Hope this can work out...</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p33153" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile33153">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="https://www.sandboxie.com/old-forums/memberlist752d.html?mode=viewprofile&amp;u=846" class="username">wraithdu</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search97d397d3.html?author_id=846&amp;sr=posts">1410</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Jun 29, 2007 2:54 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content33153">

						<h3 ><a href="#p33153"></a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="https://www.sandboxie.com/old-forums/posting1a21.html?mode=quote&amp;f=22&amp;p=33153" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopice72ce72c.html?p=33153#p33153" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="https://www.sandboxie.com/old-forums/memberlist752d.html?mode=viewprofile&amp;u=846" class="username">wraithdu</a></strong> &raquo; </span>Mon Feb 16, 2009 2:41 am
			</p>
			
			
			
			<div class="content">Ok, try the test version again, v1.0.0.2.  This time I've excluded all Sandboxie processes, but not explorer.  Hopefully the problem here is with the SB procs, at least it is judging by the errors you've mentioned.  Thanks again for testing.<br>
<br>
Out of curiosity, before you try the new version, see these lines?
<blockquote class="uncited"><div>[8988] IsPIDSandboxed<br>
[8988] Target PID: 9108<br>
[8988] BoxName:<br>
[8988] ImageName:<br>
[8988] SidString:<br>
[8988] SessionId: 0<br>
[8988] Blocking NtReadVirtualMemory</div></blockquote>
What process is PID 9108?  You'll have to run the test again and look in TaskManager, as your PIDs will change and this number will probably be different.  This is referring to SandboxieRpcSs.exe trying to read the memory of some unsandboxed process and being blocked.</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p33156" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile33156">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<strong><span class="username">ThantiK</span></strong>							</dt>

									
						
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content33156">

						<h3 ><a href="#p33156"></a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="https://www.sandboxie.com/old-forums/postinga1d3-2.html?mode=quote&amp;f=22&amp;p=33156" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic43fd-343fd.html?p=33156#p33156" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><span class="username">ThantiK</span></strong> &raquo; </span>Mon Feb 16, 2009 5:01 am
			</p>
			
			
			
			<div class="content">Looks like it works for me, at least I can get through the "run any program" dialogs now.   I ran WoW with it and got an error message but after clicking "OK" it started up fine anyhow.<br>
<br>
"The procedure entry point RegGetValueW could not be located in ADVAPI32.dll"</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
	

	<div class="action-bar bar-bottom">
	
			<a href="https://www.sandboxie.com/old-forums/posting8447.html?mode=reply&amp;f=22&amp;t=4885" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
		
		<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																												<li>
					<a href="viewtopic2470-32470.html?f=22&amp;t=4885&amp;start=15&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>

			<form method="post" action="https://forums.sandboxie.com/phpBB3/viewtopic.php?f=22&amp;t=4885&amp;start=15">
		<div class="dropdown-container dropdown-container-left dropdown-button-control sort-tools">
	<span title="Display and sorting options" class="button button-secondary dropdown-trigger dropdown-select">
		<i class="icon fa-sort-amount-asc fa-fw" aria-hidden="true"></i>
		<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
	</span>
	<div class="dropdown hidden">
		<div class="pointer"><div class="pointer-inner"></div></div>
		<div class="dropdown-contents">
			<fieldset class="display-options">
							<label>Display: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
								<label>Sort by: <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label>
				<label>Direction: <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select></label>
								<hr class="dashed" />
				<input type="submit" class="button2" name="sort" value="Go" />
						</fieldset>
		</div>
	</div>
</div>
		</form>
	
	
	
			<div class="pagination">
			212 posts
							<ul>
	<li class="dropdown-container dropdown-button-control dropdown-page-jump page-jump">
		<a class="button button-icon-only dropdown-trigger" href="#" title="Click to jump to page…" role="button"><i class="icon fa-level-down fa-rotate-270" aria-hidden="true"></i><span class="sr-only">Page <strong>2</strong> of <strong>15</strong></span></a>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
				<li>Jump to page:</li>
				<li class="page-jump-form">
					<input type="number" name="page-number" min="1" max="999999" title="Enter the page number you wish to go to" class="inputbox tiny" data-per-page="15" data-base-url=".&#x2F;viewtopic.php&#x3F;f&#x3D;22&amp;amp&#x3B;t&#x3D;4885" data-start-name="start" />
					<input class="button2" value="Go" type="button" />
				</li>
			</ul>
		</div>
	</li>
			<li class="arrow previous"><a class="button button-icon-only" href="viewtopic7fcb7fcb.html?f=22&amp;t=4885" rel="prev" role="button"><i class="icon fa-chevron-left fa-fw" aria-hidden="true"></i><span class="sr-only">Previous</span></a></li>
				<li><a class="button" href="viewtopic7fcb7fcb.html?f=22&amp;t=4885" role="button">1</a></li>
			<li class="active"><span>2</span></li>
				<li><a class="button" href="viewtopice321e321.html?f=22&amp;t=4885&amp;start=30" role="button">3</a></li>
				<li><a class="button" href="viewtopic97ef97ef.html?f=22&amp;t=4885&amp;start=45" role="button">4</a></li>
				<li><a class="button" href="viewtopicba6eba6e.html?f=22&amp;t=4885&amp;start=60" role="button">5</a></li>
			<li class="ellipsis" role="separator"><span>…</span></li>
				<li><a class="button" href="viewtopicddd0ddd0.html?f=22&amp;t=4885&amp;start=210" role="button">15</a></li>
				<li class="arrow next"><a class="button button-icon-only" href="viewtopice321e321.html?f=22&amp;t=4885&amp;start=30" rel="next" role="button"><i class="icon fa-chevron-right fa-fw" aria-hidden="true"></i><span class="sr-only">Next</span></a></li>
	</ul>
					</div>
	</div>


<div class="action-bar actions-jump">
		<p class="jumpbox-return">
		<a href="viewforum89418941.html?f=22" class="left-box arrow-left" accesskey="r">
			<i class="icon fa-angle-left fa-fw icon-black" aria-hidden="true"></i><span>Return to “Contributed Utilities &amp; Templates”</span>
		</a>
	</p>
	
		<div class="jumpbox dropdown-container dropdown-container-right dropdown-up dropdown-left dropdown-button-control" id="jumpbox">
			<span title="Jump to" class="button button-secondary dropdown-trigger dropdown-select">
				<span>Jump to</span>
				<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
			</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																				<li><a href="viewforum907f907f.html?f=42" class="jumpbox-cat-link"> <span> Sandboxie Forums</span></a></li>
																<li><a href="viewforum12a312a3.html?f=2" class="jumpbox-sub-link"><span class="spacer"></span> <span> &#8627; &nbsp; Announcements</span></a></li>
																<li><a href="viewforumcf19cf19.html?f=6" class="jumpbox-sub-link"><span class="spacer"></span> <span> &#8627; &nbsp; Positive Reviews</span></a></li>
																<li><a href="viewforum107e107e.html?f=43" class="jumpbox-cat-link"> <span> Problems and Questions</span></a></li>
																<li><a href="viewforum8a838a83.html?f=11" class="jumpbox-sub-link"><span class="spacer"></span> <span> &#8627; &nbsp; Problem Reports</span></a></li>
																<li><a href="viewforum48ab48ab.html?f=17" class="jumpbox-sub-link"><span class="spacer"></span> <span> &#8627; &nbsp; Quick Questions</span></a></li>
																<li><a href="viewforumbcb4bcb4.html?f=65" class="jumpbox-sub-link"><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 5.25</span></a></li>
																<li><a href="viewforumab78ab78.html?f=44" class="jumpbox-cat-link"> <span> More Forums</span></a></li>
																<li><a href="viewforum31e631e6.html?f=4" class="jumpbox-sub-link"><span class="spacer"></span> <span> &#8627; &nbsp; Feature Requests</span></a></li>
																<li><a href="viewforume774e774.html?f=5" class="jumpbox-sub-link"><span class="spacer"></span> <span> &#8627; &nbsp; Anything Else</span></a></li>
																<li><a href="viewforum89418941.html?f=22" class="jumpbox-sub-link"><span class="spacer"></span> <span> &#8627; &nbsp; Contributed Utilities &amp; Templates</span></a></li>
																<li><a href="viewforum97809780.html?f=14" class="jumpbox-sub-link"><span class="spacer"></span> <span> &#8627; &nbsp; International Translations</span></a></li>
																<li><a href="viewforum2b892b89.html?f=38" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 4.01</span></a></li>
																<li><a href="viewforumdfa4dfa4.html?f=39" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 4.03</span></a></li>
																<li><a href="viewforuma3f5a3f5.html?f=40" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 4.05</span></a></li>
																<li><a href="viewforum51ee51ee.html?f=41" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 4.07</span></a></li>
																<li><a href="viewforum590b590b.html?f=46" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 4.09</span></a></li>
																<li><a href="viewforumcdbacdba.html?f=48" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 4.13</span></a></li>
																<li><a href="viewforum30ac30ac.html?f=49" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 4.15</span></a></li>
																<li><a href="viewforum91409140.html?f=50" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 4.17</span></a></li>
																<li><a href="viewforum208f208f.html?f=51" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 4.19</span></a></li>
																<li><a href="viewforum26492649.html?f=53" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 5.01</span></a></li>
																<li><a href="viewforum9e0d9e0d.html?f=54" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 5.05</span></a></li>
																<li><a href="viewforumfac0fac0.html?f=55" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 5.07</span></a></li>
																<li><a href="viewforuma05ca05c.html?f=56" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 5.09</span></a></li>
																<li><a href="viewforum6ac36ac3.html?f=57" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 5.11</span></a></li>
																<li><a href="viewforume57de57d.html?f=58" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 5.13</span></a></li>
																<li><a href="viewforum07560756.html?f=59" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 5.15</span></a></li>
																<li><a href="viewforumb8c1b8c1.html?f=60" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 5.17</span></a></li>
																<li><a href="viewforumdbf5dbf5.html?f=61" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 5.19</span></a></li>
																<li><a href="viewforum75c275c2.html?f=62" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 5.21</span></a></li>
																<li><a href="viewforume5f3e5f3.html?f=64" class="jumpbox-sub-link"><span class="spacer"></span><span class="spacer"></span> <span> &#8627; &nbsp; Beta Version 5.23</span></a></li>
											</ul>
		</div>
	</div>

	</div>

	<div class="stat-block online-list">
		<h3>Who is online</h3>
		<p>Users browsing this forum: No registered users and 0 guests</p>
	</div>

			</div>


<div id="page-footer" class="page-footer" role="contentinfo">
	<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-footer" class="nav-footer linklist" role="menubar">
		<li class="breadcrumbs">
							<span class="crumb"><a href="../index.html" data-navbar-reference="home"><i class="icon fa-home fa-fw" aria-hidden="true"></i><span>Home</span></a></span>									<span class="crumb"><a href="index-2.html" data-navbar-reference="index"><span>Board index</span></a></span>					</li>
		
				<li class="rightside">All times are <span title="America/New York">UTC-04:00</span></li>
							<li class="rightside">
				<a href="ucp033a033a.html?mode=delete_cookies" data-ajax="true" data-refresh="true" role="menuitem">
					<i class="icon fa-trash fa-fw" aria-hidden="true"></i><span>Delete all board cookies</span>
				</a>
			</li>
												<li class="rightside" data-last-responsive="true">
				<a href="https://www.sandboxie.com/old-forums/memberlist4bfd.html?mode=team" role="menuitem">
					<i class="icon fa-shield fa-fw" aria-hidden="true"></i><span>The team</span>
				</a>
			</li>
									<li class="rightside" data-last-responsive="true">
				<a href="https://www.sandboxie.com/old-forums/memberlist8733.html?mode=contactadmin" role="menuitem">
					<i class="icon fa-envelope fa-fw" aria-hidden="true"></i><span>Contact us</span>
				</a>
			</li>
			</ul>

	</div>
</div>

	<div class="copyright">
				Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
									</div>

	<div id="darkenwrapper" class="darkenwrapper" data-ajax-error-title="AJAX error" data-ajax-error-text="Something went wrong when processing your request." data-ajax-error-text-abort="User aborted request." data-ajax-error-text-timeout="Your request timed out; please try again." data-ajax-error-text-parsererror="Something went wrong with the request and the server returned an invalid reply.">
		<div id="darken" class="darken">&nbsp;</div>
	</div>

	<div id="phpbb_alert" class="phpbb_alert" data-l-err="Error" data-l-timeout-processing-req="Request timed out.">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<h3 class="alert_title">&nbsp;</h3><p class="alert_text"></p>
	</div>
	<div id="phpbb_confirm" class="phpbb_alert">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<div class="alert_text"></div>
	</div>
</div>

</div>

<div>
	<a id="bottom" class="anchor" accesskey="z"></a>
	<img src="cron40494049.gif?cron_type=cron.task.core.tidy_search" width="1" height="1" alt="cron" /></div>

<script type="text/javascript" src="assets/javascript/jquery.mince91ce91.js?assets_version=7"></script>
<script type="text/javascript" src="assets/javascript/corece91ce91.js?assets_version=7"></script>



<script type="text/javascript" src="styles/sbie_prosilver/template/forum_fnce91ce91.js?assets_version=7"></script>
<script type="text/javascript" src="styles/sbie_prosilver/template/ajaxce91ce91.js?assets_version=7"></script>



</body>

<!-- Mirrored from forums.sandboxie.com/phpBB3/viewtopic.php?p=33153 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 28 Mar 2020 10:15:47 GMT -->
</html>
